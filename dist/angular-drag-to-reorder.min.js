/*
  angular-drag-to-reorder v0.0.2
  http://brandly.github.io/angular-drag-to-reorder/
*/
(function(){angular.module("mb-dragToReorder",[]).factory("itemBeingDragged",function(){var r;return r={},{set:function(e,o){return r[e]=o},get:function(e){return r[e]},clear:function(e){return r[e]=null}}}).directive("dragToReorder",["itemBeingDragged",function(r){return{link:function(e,o,n){var t,a,d,i,s,l,u,f,g;if(null==e[n.dragToReorder])throw"Must specify the list to reorder";return f=n.dragToReorder,d=!1,a="dragging",o.attr("draggable",!0),o.on("dragstart",function(){return o.addClass(a),r.set(f,o)}),o.on("dragend",function(){return o.removeClass(a)}),u="dropping",s="dropping-above",l="dropping-below",t=function(r){var e;return r.preventDefault(),e=r.offsetY||r.layerY,e<this.offsetHeight/2?(o.removeClass(l),o.addClass(s),d=!0):(o.removeClass(s),o.addClass(l),d=!1)},g=function(r,e,o){var n;if(o>=r.length)for(n=o-r.length;n--+1;)r.push(void 0);return r.splice(o,0,r.splice(e,1)[0]),r},i=function(){var t,a,c,v;return(t=r.get(f))?(c=t.scope().$index,a=d?e.$index-1:e.$index,v=e[n.dragToReorder],e.$apply(function(){return g(v,c,a),e.$emit("dragToReorder.reordered",{array:v,item:v[a],from:c,to:a})}),o.removeClass(u),o.removeClass(s),o.removeClass(l),o.off("drop",i),d=!1,r.clear(f)):void 0},o.on("dragenter",function(){return o.hasClass(a)?void 0:(o.addClass(u),o.on("dragover",t),o.on("drop",i))}),o.on("dragleave",function(){return o.removeClass(u),o.removeClass(s),o.removeClass(l),o.off("dragover",t),o.off("drop",i)})}}}])}).call(this);